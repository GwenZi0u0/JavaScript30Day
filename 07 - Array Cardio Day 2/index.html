<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Array Cardio 💪💪</title>
  <link rel="icon" href="https://fav.farm/🔥" />
</head>

<body>
  <p><em>Psst: have a look at the JavaScript Console</em> 💁</p>
  <script>
    // ## Array Cardio Day 2

    const people = [
      { name: 'Wes', year: 1988 },
      { name: 'Kait', year: 1986 },
      { name: 'Irv', year: 1970 },
      { name: 'Lux', year: 2015 }
    ];
    // Some and Every Checks
    // Array.prototype.some() // is at least one person 19 or older? 至少有一個人是19歲或以上嗎？

    // 第一版 => forEach
    //foreach 存到 tmp = []  tmp 是不是空的
    let tmp = [];
    people.forEach((person) => {
      if (2023 - person.year >= 19) {
        tmp.push(person);
      }
    })
    console.table(tmp.length >= 2);
    // 第二版 => filter
    let tmp2 = people.filter((person) => {
      return (2023 - person.year) >= 19;
    })
    console.table(tmp2);
    // 第三版 => some()
    //  some 內建已經有寫length >= 1
    let tmp2Some = people.some((person) => {
      return (2023 - person.year) >= 19;
    })
    console.log(tmp2Some);
    // 第四版 => JS30寫法-some()
    // const currentYear = (new Date()).getFullYear();
    const isAdult = people.some(person => ((new Date()).getFullYear()) - person.year >= 19 );
    console.log(isAdult);

    // Array.prototype.every() // is everyone 19 or older? 大家都是19歲或以上的嗎？
    // 第一版 => forEach
    let tmp3 = [];
    people.forEach((person) => {
      if (2023 - person.year >= 19) {
        tmp3.push(person);
      };
    })
    console.table(tmp3.length == people.length);
    // 第二版 => every()
    let tmp3Every = people.every((person) => {
      return (2023 - person.year) >= 19;
    })
    console.log(tmp3Every);
    // ///////////////////////////////////
    const comments = [
      { text: 'Love this!', id: 523423 },
      { text: 'Super good', id: 823423 },
      { text: 'You are the best', id: 2039842 },
      { text: 'Ramen is my fav food ever', id: 123523 },
      { text: 'Nice Nice Nice!', id: 542328 }
    ];
    // Array.prototype.find()
    // Find is like filter, but instead returns just the one you are looking for 尋找就像篩選一樣，但是它會返回你正在尋找的那個。
    // find the comment with the ID of 823423 尋找ID為823423的評論。
    // 第一版 => forEach
    let com = '';
    comments.forEach((comment) => {
      if (comment.id === 823423) {
        com = comment;
      };
    })
    console.table(com.text);
    // 第二版 => find()
    let com2Find = comments.find((comment) => {
      return (comment.id === 823423);
    })
    console.log(com2Find.text);
    // Array.prototype.findIndex()
    // Find the comment with this ID 找到具有此ID的評論
    // delete the comment with the ID of 823423 刪除ID為823423的評論。
    // 第一版 => forEach
    let com3 = [];
    comments.forEach((comment) => {
      if (comment.id != 823423) {
        com3.push(comment);
      }
    })
    console.table(com3);
    // 第二版 => filter
    let com4 = comments.filter((comment) => {
      return comment.id != 823423;
    })
    console.table(com4);
    // 第三版 => for
    // let idx = NaN;
    // for (var No = 0; No < comments.length; No++) {
    //   if (comments[No].id == 823423) {
    //     idx = No;
    //     // console.log(idx);
    //     break;
    //   }
    // }
    // comments.splice(idx, 1);
    // console.log(comments);
    // 第四版 => findIndex()
    let com5FindIndex = comments.findIndex((comment) => {
      return comment.id == 823423;
    })
    console.log(com5FindIndex);
    comments.splice(com5FindIndex, 1);
    console.table(comments);
  </script>
</body>

</html>